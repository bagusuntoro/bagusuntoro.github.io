import{_ as d,o as c,c as r,w as p,v as m,a as o,n as _,z as g,x,y as w}from"./index-d101573f.js";const C={data(){return{showChatBox:!1,message:"",phoneNumber:"081907150504",nama:"",lokasi:""}},methods:{toggleChatBox(){this.showChatBox=!this.showChatBox,this.showChatBox||(this.message="")},async sendMessage(){const e=encodeURIComponent(this.message),s=sessionStorage.getItem("token");if(s)try{const t=JSON.parse(atob(s.split(".")[1]));this.nama=t.name,this.lokasi=t.namaLokasi;const h=`https://wa.me/${this.phoneNumber}?text=Nama%3A%20${this.nama}%0ALokasi%3A%20${this.lokasi}%0APath%3A%20${this.$route.path}%0APesan%3A%20${e}`;window.open(h,"_blank"),this.message="",this.toggleChatBox()}catch(t){console.error("Error decoding token:",t)}else{const t=`https://wa.me/${this.phoneNumber}?text=${e}`;window.open(t,"_blank"),this.message="",this.toggleChatBox()}}},created(){}},l=e=>(x("data-v-b643c777"),e=e(),w(),e),u={class:"chat-container"},k={key:0,class:"chat-box"},b=l(()=>o("div",{class:"text-primary fw-bold"},"Halo, ada yang bisa dibantu?",-1)),B=l(()=>o("i",{class:"fab fa-whatsapp"},null,-1)),f=[B];function v(e,s,t,h,n,i){return c(),r("div",u,[n.showChatBox?(c(),r("div",k,[b,p(o("textarea",{class:"form-control",id:"chat","onUpdate:modelValue":s[0]||(s[0]=a=>n.message=a),rows:"2"},null,512),[[m,n.message]]),o("button",{onClick:s[1]||(s[1]=(...a)=>i.sendMessage&&i.sendMessage(...a)),class:"float-end"},"Kirim")])):_("",!0),o("div",{class:g(["whatsapp-icon",{active:n.showChatBox}]),onClick:s[2]||(s[2]=(...a)=>i.toggleChatBox&&i.toggleChatBox(...a))},f,2)])}const A=d(C,[["render",v],["__scopeId","data-v-b643c777"]]);export{A as C};
