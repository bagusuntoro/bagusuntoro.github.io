import{d as Q,h as D,r as z,Z as G,b as nt,_ as W,i as X,o as L,c as B,j as P,x as q,y as J,a as s,I as Z,z as rt,B as st,t as p,F as at,D as it,q as T,n as lt,s as K,E as ct}from"./index-d101573f.js";import{S as ut,N as dt}from"./Navbar-fe6fe40f.js";import{h as ht}from"./html2pdf.es-190acb1f.js";import"./_commonjs-dynamic-modules-302442b1.js";/*!
 * qrcode.vue v3.4.1
 * A Vue.js component to generate QRCode.
 * Â© 2017-2023 @scopewu(https://github.com/scopewu)
 * MIT License.
 */var O=function(){return O=Object.assign||function(d){for(var h,c=1,i=arguments.length;c<i;c++){h=arguments[c];for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(d[f]=h[f])}return d},O.apply(this,arguments)};var N;(function(a){var d=function(){function n(t,e,o,r){if(this.version=t,this.errorCorrectionLevel=e,this.modules=[],this.isFunction=[],t<n.MIN_VERSION||t>n.MAX_VERSION)throw new RangeError("Version value out of range");if(r<-1||r>7)throw new RangeError("Mask value out of range");this.size=t*4+17;for(var l=[],u=0;u<this.size;u++)l.push(!1);for(var u=0;u<this.size;u++)this.modules.push(l.slice()),this.isFunction.push(l.slice());this.drawFunctionPatterns();var v=this.addEccAndInterleave(o);if(this.drawCodewords(v),r==-1)for(var _=1e9,u=0;u<8;u++){this.applyMask(u),this.drawFormatBits(u);var E=this.getPenaltyScore();E<_&&(r=u,_=E),this.applyMask(u)}i(0<=r&&r<=7),this.mask=r,this.applyMask(r),this.drawFormatBits(r),this.isFunction=[]}return n.encodeText=function(t,e){var o=a.QrSegment.makeSegments(t);return n.encodeSegments(o,e)},n.encodeBinary=function(t,e){var o=a.QrSegment.makeBytes(t);return n.encodeSegments([o],e)},n.encodeSegments=function(t,e,o,r,l,u){if(o===void 0&&(o=1),r===void 0&&(r=40),l===void 0&&(l=-1),u===void 0&&(u=!0),!(n.MIN_VERSION<=o&&o<=r&&r<=n.MAX_VERSION)||l<-1||l>7)throw new RangeError("Invalid value");var v,_;for(v=o;;v++){var E=n.getNumDataCodewords(v,e)*8,C=f.getTotalBits(t,v);if(C<=E){_=C;break}if(v>=r)throw new RangeError("Data too long")}for(var w=0,M=[n.Ecc.MEDIUM,n.Ecc.QUARTILE,n.Ecc.HIGH];w<M.length;w++){var S=M[w];u&&_<=n.getNumDataCodewords(v,S)*8&&(e=S)}for(var m=[],b=0,I=t;b<I.length;b++){var R=I[b];h(R.mode.modeBits,4,m),h(R.numChars,R.mode.numCharCountBits(v),m);for(var k=0,y=R.getData();k<y.length;k++){var et=y[k];m.push(et)}}i(m.length==_);var U=n.getNumDataCodewords(v,e)*8;i(m.length<=U),h(0,Math.min(4,U-m.length),m),h(0,(8-m.length%8)%8,m),i(m.length%8==0);for(var Y=236;m.length<U;Y^=253)h(Y,8,m);for(var F=[];F.length*8<m.length;)F.push(0);return m.forEach(function(ot,V){return F[V>>>3]|=ot<<7-(V&7)}),new n(v,e,F,l)},n.prototype.getModule=function(t,e){return 0<=t&&t<this.size&&0<=e&&e<this.size&&this.modules[e][t]},n.prototype.getModules=function(){return this.modules},n.prototype.drawFunctionPatterns=function(){for(var t=0;t<this.size;t++)this.setFunctionModule(6,t,t%2==0),this.setFunctionModule(t,6,t%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);for(var e=this.getAlignmentPatternPositions(),o=e.length,t=0;t<o;t++)for(var r=0;r<o;r++)t==0&&r==0||t==0&&r==o-1||t==o-1&&r==0||this.drawAlignmentPattern(e[t],e[r]);this.drawFormatBits(0),this.drawVersion()},n.prototype.drawFormatBits=function(t){for(var e=this.errorCorrectionLevel.formatBits<<3|t,o=e,r=0;r<10;r++)o=o<<1^(o>>>9)*1335;var l=(e<<10|o)^21522;i(l>>>15==0);for(var r=0;r<=5;r++)this.setFunctionModule(8,r,c(l,r));this.setFunctionModule(8,7,c(l,6)),this.setFunctionModule(8,8,c(l,7)),this.setFunctionModule(7,8,c(l,8));for(var r=9;r<15;r++)this.setFunctionModule(14-r,8,c(l,r));for(var r=0;r<8;r++)this.setFunctionModule(this.size-1-r,8,c(l,r));for(var r=8;r<15;r++)this.setFunctionModule(8,this.size-15+r,c(l,r));this.setFunctionModule(8,this.size-8,!0)},n.prototype.drawVersion=function(){if(!(this.version<7)){for(var t=this.version,e=0;e<12;e++)t=t<<1^(t>>>11)*7973;var o=this.version<<12|t;i(o>>>18==0);for(var e=0;e<18;e++){var r=c(o,e),l=this.size-11+e%3,u=Math.floor(e/3);this.setFunctionModule(l,u,r),this.setFunctionModule(u,l,r)}}},n.prototype.drawFinderPattern=function(t,e){for(var o=-4;o<=4;o++)for(var r=-4;r<=4;r++){var l=Math.max(Math.abs(r),Math.abs(o)),u=t+r,v=e+o;0<=u&&u<this.size&&0<=v&&v<this.size&&this.setFunctionModule(u,v,l!=2&&l!=4)}},n.prototype.drawAlignmentPattern=function(t,e){for(var o=-2;o<=2;o++)for(var r=-2;r<=2;r++)this.setFunctionModule(t+r,e+o,Math.max(Math.abs(r),Math.abs(o))!=1)},n.prototype.setFunctionModule=function(t,e,o){this.modules[e][t]=o,this.isFunction[e][t]=!0},n.prototype.addEccAndInterleave=function(t){var e=this.version,o=this.errorCorrectionLevel;if(t.length!=n.getNumDataCodewords(e,o))throw new RangeError("Invalid argument");for(var r=n.NUM_ERROR_CORRECTION_BLOCKS[o.ordinal][e],l=n.ECC_CODEWORDS_PER_BLOCK[o.ordinal][e],u=Math.floor(n.getNumRawDataModules(e)/8),v=r-u%r,_=Math.floor(u/r),E=[],C=n.reedSolomonComputeDivisor(l),w=0,M=0;w<r;w++){var S=t.slice(M,M+_-l+(w<v?0:1));M+=S.length;var m=n.reedSolomonComputeRemainder(S,C);w<v&&S.push(0),E.push(S.concat(m))}for(var b=[],I=function(R){E.forEach(function(k,y){(R!=_-l||y>=v)&&b.push(k[R])})},w=0;w<E[0].length;w++)I(w);return i(b.length==u),b},n.prototype.drawCodewords=function(t){if(t.length!=Math.floor(n.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var e=0,o=this.size-1;o>=1;o-=2){o==6&&(o=5);for(var r=0;r<this.size;r++)for(var l=0;l<2;l++){var u=o-l,v=(o+1&2)==0,_=v?this.size-1-r:r;!this.isFunction[_][u]&&e<t.length*8&&(this.modules[_][u]=c(t[e>>>3],7-(e&7)),e++)}}i(e==t.length*8)},n.prototype.applyMask=function(t){if(t<0||t>7)throw new RangeError("Mask value out of range");for(var e=0;e<this.size;e++)for(var o=0;o<this.size;o++){var r=void 0;switch(t){case 0:r=(o+e)%2==0;break;case 1:r=e%2==0;break;case 2:r=o%3==0;break;case 3:r=(o+e)%3==0;break;case 4:r=(Math.floor(o/3)+Math.floor(e/2))%2==0;break;case 5:r=o*e%2+o*e%3==0;break;case 6:r=(o*e%2+o*e%3)%2==0;break;case 7:r=((o+e)%2+o*e%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[e][o]&&r&&(this.modules[e][o]=!this.modules[e][o])}},n.prototype.getPenaltyScore=function(){for(var t=0,e=0;e<this.size;e++){for(var o=!1,r=0,l=[0,0,0,0,0,0,0],u=0;u<this.size;u++)this.modules[e][u]==o?(r++,r==5?t+=n.PENALTY_N1:r>5&&t++):(this.finderPenaltyAddHistory(r,l),o||(t+=this.finderPenaltyCountPatterns(l)*n.PENALTY_N3),o=this.modules[e][u],r=1);t+=this.finderPenaltyTerminateAndCount(o,r,l)*n.PENALTY_N3}for(var u=0;u<this.size;u++){for(var o=!1,v=0,l=[0,0,0,0,0,0,0],e=0;e<this.size;e++)this.modules[e][u]==o?(v++,v==5?t+=n.PENALTY_N1:v>5&&t++):(this.finderPenaltyAddHistory(v,l),o||(t+=this.finderPenaltyCountPatterns(l)*n.PENALTY_N3),o=this.modules[e][u],v=1);t+=this.finderPenaltyTerminateAndCount(o,v,l)*n.PENALTY_N3}for(var e=0;e<this.size-1;e++)for(var u=0;u<this.size-1;u++){var _=this.modules[e][u];_==this.modules[e][u+1]&&_==this.modules[e+1][u]&&_==this.modules[e+1][u+1]&&(t+=n.PENALTY_N2)}for(var E=0,C=0,w=this.modules;C<w.length;C++){var M=w[C];E=M.reduce(function(b,I){return b+(I?1:0)},E)}var S=this.size*this.size,m=Math.ceil(Math.abs(E*20-S*10)/S)-1;return i(0<=m&&m<=9),t+=m*n.PENALTY_N4,i(0<=t&&t<=2568888),t},n.prototype.getAlignmentPatternPositions=function(){if(this.version==1)return[];for(var t=Math.floor(this.version/7)+2,e=this.version==32?26:Math.ceil((this.version*4+4)/(t*2-2))*2,o=[6],r=this.size-7;o.length<t;r-=e)o.splice(1,0,r);return o},n.getNumRawDataModules=function(t){if(t<n.MIN_VERSION||t>n.MAX_VERSION)throw new RangeError("Version number out of range");var e=(16*t+128)*t+64;if(t>=2){var o=Math.floor(t/7)+2;e-=(25*o-10)*o-55,t>=7&&(e-=36)}return i(208<=e&&e<=29648),e},n.getNumDataCodewords=function(t,e){return Math.floor(n.getNumRawDataModules(t)/8)-n.ECC_CODEWORDS_PER_BLOCK[e.ordinal][t]*n.NUM_ERROR_CORRECTION_BLOCKS[e.ordinal][t]},n.reedSolomonComputeDivisor=function(t){if(t<1||t>255)throw new RangeError("Degree out of range");for(var e=[],o=0;o<t-1;o++)e.push(0);e.push(1);for(var r=1,o=0;o<t;o++){for(var l=0;l<e.length;l++)e[l]=n.reedSolomonMultiply(e[l],r),l+1<e.length&&(e[l]^=e[l+1]);r=n.reedSolomonMultiply(r,2)}return e},n.reedSolomonComputeRemainder=function(t,e){for(var o=e.map(function(_){return 0}),r=function(_){var E=_^o.shift();o.push(0),e.forEach(function(C,w){return o[w]^=n.reedSolomonMultiply(C,E)})},l=0,u=t;l<u.length;l++){var v=u[l];r(v)}return o},n.reedSolomonMultiply=function(t,e){if(t>>>8||e>>>8)throw new RangeError("Byte out of range");for(var o=0,r=7;r>=0;r--)o=o<<1^(o>>>7)*285,o^=(e>>>r&1)*t;return i(o>>>8==0),o},n.prototype.finderPenaltyCountPatterns=function(t){var e=t[1];i(e<=this.size*3);var o=e>0&&t[2]==e&&t[3]==e*3&&t[4]==e&&t[5]==e;return(o&&t[0]>=e*4&&t[6]>=e?1:0)+(o&&t[6]>=e*4&&t[0]>=e?1:0)},n.prototype.finderPenaltyTerminateAndCount=function(t,e,o){return t&&(this.finderPenaltyAddHistory(e,o),e=0),e+=this.size,this.finderPenaltyAddHistory(e,o),this.finderPenaltyCountPatterns(o)},n.prototype.finderPenaltyAddHistory=function(t,e){e[0]==0&&(t+=this.size),e.pop(),e.unshift(t)},n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],n}();a.QrCode=d;function h(n,t,e){if(t<0||t>31||n>>>t)throw new RangeError("Value out of range");for(var o=t-1;o>=0;o--)e.push(n>>>o&1)}function c(n,t){return(n>>>t&1)!=0}function i(n){if(!n)throw new Error("Assertion error")}var f=function(){function n(t,e,o){if(this.mode=t,this.numChars=e,this.bitData=o,e<0)throw new RangeError("Invalid argument");this.bitData=o.slice()}return n.makeBytes=function(t){for(var e=[],o=0,r=t;o<r.length;o++){var l=r[o];h(l,8,e)}return new n(n.Mode.BYTE,t.length,e)},n.makeNumeric=function(t){if(!n.isNumeric(t))throw new RangeError("String contains non-numeric characters");for(var e=[],o=0;o<t.length;){var r=Math.min(t.length-o,3);h(parseInt(t.substring(o,o+r),10),r*3+1,e),o+=r}return new n(n.Mode.NUMERIC,t.length,e)},n.makeAlphanumeric=function(t){if(!n.isAlphanumeric(t))throw new RangeError("String contains unencodable characters in alphanumeric mode");var e=[],o;for(o=0;o+2<=t.length;o+=2){var r=n.ALPHANUMERIC_CHARSET.indexOf(t.charAt(o))*45;r+=n.ALPHANUMERIC_CHARSET.indexOf(t.charAt(o+1)),h(r,11,e)}return o<t.length&&h(n.ALPHANUMERIC_CHARSET.indexOf(t.charAt(o)),6,e),new n(n.Mode.ALPHANUMERIC,t.length,e)},n.makeSegments=function(t){return t==""?[]:n.isNumeric(t)?[n.makeNumeric(t)]:n.isAlphanumeric(t)?[n.makeAlphanumeric(t)]:[n.makeBytes(n.toUtf8ByteArray(t))]},n.makeEci=function(t){var e=[];if(t<0)throw new RangeError("ECI assignment value out of range");if(t<128)h(t,8,e);else if(t<16384)h(2,2,e),h(t,14,e);else if(t<1e6)h(6,3,e),h(t,21,e);else throw new RangeError("ECI assignment value out of range");return new n(n.Mode.ECI,0,e)},n.isNumeric=function(t){return n.NUMERIC_REGEX.test(t)},n.isAlphanumeric=function(t){return n.ALPHANUMERIC_REGEX.test(t)},n.prototype.getData=function(){return this.bitData.slice()},n.getTotalBits=function(t,e){for(var o=0,r=0,l=t;r<l.length;r++){var u=l[r],v=u.mode.numCharCountBits(e);if(u.numChars>=1<<v)return 1/0;o+=4+v+u.bitData.length}return o},n.toUtf8ByteArray=function(t){t=encodeURI(t);for(var e=[],o=0;o<t.length;o++)t.charAt(o)!="%"?e.push(t.charCodeAt(o)):(e.push(parseInt(t.substring(o+1,o+3),16)),o+=2);return e},n.NUMERIC_REGEX=/^[0-9]*$/,n.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,n.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",n}();a.QrSegment=f})(N||(N={}));(function(a){(function(d){var h=function(){function c(i,f){this.ordinal=i,this.formatBits=f}return c.LOW=new c(0,1),c.MEDIUM=new c(1,0),c.QUARTILE=new c(2,3),c.HIGH=new c(3,2),c}();d.Ecc=h})(a.QrCode||(a.QrCode={}))})(N||(N={}));(function(a){(function(d){var h=function(){function c(i,f){this.modeBits=i,this.numBitsCharCount=f}return c.prototype.numCharCountBits=function(i){return this.numBitsCharCount[Math.floor((i+7)/17)]},c.NUMERIC=new c(1,[10,12,14]),c.ALPHANUMERIC=new c(2,[9,11,13]),c.BYTE=new c(4,[8,16,16]),c.KANJI=new c(8,[8,10,12]),c.ECI=new c(7,[0,0,0]),c}();d.Mode=h})(a.QrSegment||(a.QrSegment={}))})(N||(N={}));var A=N,j="H",$={L:A.QrCode.Ecc.LOW,M:A.QrCode.Ecc.MEDIUM,Q:A.QrCode.Ecc.QUARTILE,H:A.QrCode.Ecc.HIGH},ft=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function x(a){return a in $}function tt(a,d){d===void 0&&(d=0);var h=[];return a.forEach(function(c,i){var f=null;c.forEach(function(n,t){if(!n&&f!==null){h.push("M".concat(f+d," ").concat(i+d,"h").concat(t-f,"v1H").concat(f+d,"z")),f=null;return}if(t===c.length-1){if(!n)return;f===null?h.push("M".concat(t+d,",").concat(i+d," h1v1H").concat(t+d,"z")):h.push("M".concat(f+d,",").concat(i+d," h").concat(t+1-f,"v1H").concat(f+d,"z"));return}n&&f===null&&(f=t)})}),h.join("")}var H={value:{type:String,required:!0,default:""},size:{type:Number,default:100},level:{type:String,default:j,validator:function(a){return x(a)}},background:{type:String,default:"#fff"},foreground:{type:String,default:"#000"},margin:{type:Number,required:!1,default:0}},vt=O(O({},H),{renderAs:{type:String,required:!1,default:"canvas",validator:function(a){return["canvas","svg"].indexOf(a)>-1}}}),pt=Q({name:"QRCodeSvg",props:H,setup:function(a){var d=z(0),h=z(""),c=function(){var i=a.value,f=a.level,n=a.margin,t=A.QrCode.encodeText(i,$[f]).getModules();d.value=t.length+n*2,h.value=tt(t,n)};return c(),G(c),function(){return D("svg",{width:a.size,height:a.size,"shape-rendering":"crispEdges",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(d.value," ").concat(d.value)},[D("path",{fill:a.background,d:"M0,0 h".concat(d.value,"v").concat(d.value,"H0z")}),D("path",{fill:a.foreground,d:h.value})])}}}),_t=Q({name:"QRCodeCanvas",props:H,setup:function(a){var d=z(null),h=function(){var c=a.value,i=a.level,f=a.size,n=a.margin,t=a.background,e=a.foreground,o=d.value;if(o){var r=o.getContext("2d");if(r){var l=A.QrCode.encodeText(c,$[i]).getModules(),u=l.length+n*2,v=window.devicePixelRatio||1,_=f/u*v;o.height=o.width=f*v,r.scale(_,_),r.fillStyle=t,r.fillRect(0,0,u,u),r.fillStyle=e,ft?r.fill(new Path2D(tt(l,n))):l.forEach(function(E,C){E.forEach(function(w,M){w&&r.fillRect(M+n,C+n,1,1)})})}}};return nt(h),G(h),function(){return D("canvas",{ref:d,style:{width:"".concat(a.size,"px"),height:"".concat(a.size,"px")}})}}}),gt=Q({name:"Qrcode",render:function(){var a=this.$props,d=a.renderAs,h=a.value,c=a.size,i=a.margin,f=a.level,n=a.background,t=a.foreground,e=c>>>0,o=i>>>0,r=x(f)?f:j;return D(d==="svg"?pt:_t,{value:h,size:e,margin:o,level:r,background:n,foreground:t})},props:vt});const mt={data(){return{barcodeValue:""}},components:{QrcodeVue:gt},methods:{}},wt=a=>(q("data-v-43fb5564"),a=a(),J(),a),Et={class:"qrcode"},Ct=wt(()=>s("img",{class:"qrcode__image",src:Z,alt:"Chen Fengyuan",width:"200"},null,-1));function Mt(a,d,h,c,i,f){const n=X("qrcode-vue");return L(),B("figure",Et,[P(n,{value:"https://www.ptgaram.com/",tag:"svg",size:100,level:"H",options:{errorCorrectionLevel:"Q",width:400}}),Ct])}const St=W(mt,[["render",Mt],["__scopeId","data-v-43fb5564"]]);const g=a=>(q("data-v-dbe6ce02"),a=a(),J(),a),bt={key:0,id:"wrapper"},Rt={id:"content-wrapper",class:"d-flex flex-column"},Nt={id:"content"},It={id:"app",ref:"document"},Pt={class:"row mt-4"},At=g(()=>s("div",{class:"col-1"},null,-1)),kt={class:"col-10"},Tt={class:"row"},Dt={class:"col-6"},zt={class:"col-6"},yt=g(()=>s("div",{class:"col-1"},null,-1)),Ft={id:"element-to-convert"},Lt={class:"text-black"},Bt={class:"row mt-5"},Ot=g(()=>s("div",{class:"col-1"},null,-1)),Ut={class:"col-10 text-center bg-white"},Qt=g(()=>s("img",{src:Z,alt:"logo",width:"60"},null,-1)),$t=g(()=>s("h5",{class:"fw-bold mt-3"},"TALLY SHEET",-1)),Ht=g(()=>s("div",{class:"col-1"},null,-1)),Yt={class:"row"},Vt=g(()=>s("div",{class:"col-1"},null,-1)),Kt={class:"col-10 bg-white"},Gt={class:"row"},Wt={class:"col-6"},Xt={class:"col-6"},qt={class:"row"},Jt={class:"col-6"},Zt={class:"col-6"},jt={class:"row"},xt={class:"col-6"},te={class:"col-6"},ee={class:"row"},oe={class:"col-6"},ne=g(()=>s("div",{class:"col-6"},null,-1)),re=g(()=>s("div",{class:"col-1"},null,-1)),se={class:"row"},ae=g(()=>s("div",{class:"col-1"},null,-1)),ie={class:"col-10 bg-white"},le={class:"table-responsive"},ce={class:"table"},ue=g(()=>s("thead",null,[s("tr",null,[s("th",{scope:"col"},"No"),s("th",{scope:"col"},"Jenis Barang"),s("th",{scope:"col"},"1"),s("th",{scope:"col"},"2"),s("th",{scope:"col"},"3"),s("th",{scope:"col"},"4"),s("th",{scope:"col"},"5"),s("th",{scope:"col"},"6"),s("th",{scope:"col"},"7"),s("th",{scope:"col"},"8"),s("th",{scope:"col"},"9"),s("th",{scope:"col"},"10"),s("th",{scope:"col"},"Total")])],-1)),de={scope:"row"},he=g(()=>s("div",{class:"col-1"},null,-1)),fe={class:"row"},ve=g(()=>s("div",{class:"col-1"},null,-1)),pe={class:"col-10 bg-white"},_e={class:"row"},ge=g(()=>s("div",{class:"col-1"},null,-1)),me={class:"col-11"},we={class:"float-end"},Ee={class:"row"},Ce={class:"col-5 text-center"},Me=g(()=>s("p",null,"pelanggan",-1)),Se=["src"],be={class:"fw-bold"},Re=g(()=>s("div",{class:"col-2"},null,-1)),Ne={class:"col-5 text-center"},Ie=g(()=>s("p",null,"Petugas",-1)),Pe=["src"],Ae={class:"fw-bold"},ke=g(()=>s("div",{class:"col-1"},null,-1)),Te={class:"row"},De=g(()=>s("div",{class:"col-1"},null,-1)),ze={class:"col-10 bg-white"},ye={class:"row"},Fe={class:"col-6"},Le=g(()=>s("div",{class:"col-6"},null,-1)),Be={class:"row mt-2"},Oe=g(()=>s("div",{class:"col-1"},null,-1)),Ue={props:["id"],data(){return{note:[],name:"",now:{},romawi:null,tahun:null,alamat:null,pdfFile:null,noTallySheet:"",showContent:!1}},methods:{exportToPDF(){const a=document.getElementById("element-to-convert");ht().from(a).output("blob").then(d=>{this.pdfFile=new Blob([d],{type:"application/pdf"});const h=new FormData;h.append("file",this.pdfFile,"surat_pengantar.pdf"),K.post(`http://localhost:8000/api/export/${this.id}`,h,{headers:{Authorization:"Bearer "+sessionStorage.getItem("token")}}).then(c=>{if(!c.data.message)throw new Error("Gagal mengirimkan PDF ke API.");this.downloadPDF()}).catch(c=>{console.error(c)})}).catch(d=>{console.error("Error converting to PDF:",d)})},downloadPDF(){if(this.pdfFile){const a=URL.createObjectURL(this.pdfFile),d=document.createElement("a");d.href=a,d.download=`${this.noTallySheet}.pdf`,d.click()}},getRomanMonth(a){const d=["","I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII"],[h,c,i]=a.split("-"),f=parseInt(c,10);return this.tahun=i,d[f]},async fetchData(){const a=await K.get(`https://10.11.10.243/backend/public/api/auth/note-detail/${this.id}`,{headers:{Authorization:"Bearer "+sessionStorage.getItem("token")}});this.note=a.data.data[0],console.log("test note: ",this.note),this.romawi=this.getRomanMonth(this.note.date),this.noTallySheet=`0${this.id}/TALLYSHEET/${this.romawi}/${this.tahun}`},getCurrentDateTime(){const a=new Date,d=String(a.getDate()).padStart(2,"0"),h=String(a.getMonth()+1).padStart(2,"0"),c=a.getFullYear(),i=String(a.getHours()).padStart(2,"0"),f=String(a.getMinutes()).padStart(2,"0"),n=String(a.getSeconds()).padStart(2,"0");this.now={date:`${d}-${h}-${c}`,time:`${i}:${f}:${n}`}},timeOut(){setTimeout(()=>{this.showContent=!0},3e3)}},mounted(){const a=document.querySelector("body");a.style.backgroundImage="url(/img/wilayah.png)",a.style.backgroundRepeat="no-repeat",a.style.backgroundSize="cover",this.timeOut(),this.getCurrentDateTime()},created(){const a=new Date().toUTCString();console.log("Waktu Sekarang (UTC):",a);const d=sessionStorage.getItem("token");if(d)try{const[h,c]=d.split("."),i=JSON.parse(atob(h)),f=atob(c),n=JSON.parse(atob(d.split(".")[1])),t=n.exp,e=new Date(t*1e3);console.log("Waktu Kedaluwarsa (UTC):",e.toUTCString()),new Date>e?(console.log("Keluar"),sessionStorage.removeItem("token"),this.$router.push("/")):console.log("Aman");const o=n.role;this.name=n.name,this.alamat=n.alamat,o!=="user"?this.$router.push("/unauthorized"):(!i||!f)&&this.$router.push("/"),this.fetchData()}catch(h){console.error("Error decoding token:",h),this.$router.push("/")}else this.$router.push("/")}},Qe=Object.assign(Ue,{__name:"Laporan",setup(a){const d=z(!1),h=z(""),c=()=>{d.value=!d.value,h.value=d.value?"toggle-sidebar":""};return(i,f)=>{const n=X("router-link");return i.showContent?(L(),B("div",bt,[P(ut,{class:rt(h.value)},null,8,["class"]),s("div",Rt,[s("div",Nt,[P(dt,{onToggleSidebar:c}),s("div",It,[s("div",Pt,[At,s("div",kt,[s("div",Tt,[s("div",Dt,[P(n,{to:"/user-note",class:"btn btn-danger mb-5"},{default:st(()=>[T("Kembali")]),_:1})]),s("div",zt,[s("button",{onClick:f[0]||(f[0]=(...t)=>i.exportToPDF&&i.exportToPDF(...t)),class:"btn btn-success float-end"}," Export to PDF ")])])]),yt]),s("div",Ft,[s("div",Lt,[s("div",Bt,[Ot,s("div",Ut,[Qt,$t,s("p",null," No. 0"+p(i.note.id)+"/TALLYSHEET/"+p(i.romawi)+"/"+p(this.tahun),1)]),Ht]),s("div",Yt,[Vt,s("div",Kt,[s("div",Gt,[s("div",Wt,[s("p",null,"Lokasi : "+p(i.note.location),1)]),s("div",Xt,[s("p",null,"No. Truck : "+p(i.note.no_truck),1)])]),s("div",qt,[s("div",Jt,[s("p",null,"Tanggal : "+p(i.note.date),1)]),s("div",Zt,[s("p",null,"Supir : "+p(i.note.driver),1)])]),s("div",jt,[s("div",xt,[s("p",null,"No. Container : "+p(i.note.no_container),1)]),s("div",te,[s("p",null,"No. HP : "+p(i.note.telp),1)])]),s("div",ee,[s("div",oe,[s("p",null,"No. Tujuan : "+p(i.note.destination),1)]),ne])]),re]),s("div",se,[ae,s("div",ie,[s("div",le,[s("table",ce,[ue,s("tbody",null,[(L(!0),B(at,null,it(i.note.tumpukans,(t,e)=>(L(),B("tr",{key:t.id},[s("th",de,p(e+1),1),s("td",null,p(t.barang),1),s("td",null,p(t.tumpukan_1),1),s("td",null,p(t.tumpukan_2),1),s("td",null,p(t.tumpukan_3),1),s("td",null,p(t.tumpukan_4),1),s("td",null,p(t.tumpukan_5),1),s("td",null,p(t.tumpukan_6),1),s("td",null,p(t.tumpukan_7),1),s("td",null,p(t.tumpukan_8),1),s("td",null,p(t.tumpukan_9),1),s("td",null,p(t.tumpukan_10),1),s("td",null,p(t.total),1)]))),128))])])])]),he]),s("div",fe,[ve,s("div",pe,[s("div",_e,[ge,s("div",me,[s("p",we,p(i.note.location)+", "+p(i.note.date),1)])]),s("div",Ee,[s("div",Ce,[Me,s("img",{src:i.note.signatures[0].supir_signature,alt:"tandatangan supir",class:"imageCustom",width:"130"},null,8,Se),s("h5",null,[T(" ("),s("span",be,p(i.note.signatures[0].supir),1),T(") ")])]),Re,s("div",Ne,[Ie,s("img",{src:i.note.signatures[0].petugas_signature,alt:"tandatangan petugas",class:"imageCustom",width:"130"},null,8,Pe),s("h5",null,[T(" ("),s("span",Ae,p(i.note.signatures[0].petugas),1),T(") ")])])])]),ke]),s("div",Te,[De,s("div",ze,[s("div",ye,[s("div",Fe,[P(St)]),Le]),s("div",Be,[s("small",null,"Dokument ini dicetak oleh: "+p(i.name),1),s("small",null,"Dokument ini dicetak pada: "+p(i.now.date)+" "+p(i.now.time),1)])]),Oe])])])],512)]),P(ct)])])):lt("",!0)}}}),Ke=W(Qe,[["__scopeId","data-v-dbe6ce02"]]);export{Ke as default};
