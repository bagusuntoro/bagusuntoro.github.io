import{_ as D,o as f,c as v,a as h,Y as U,l as L,r as T,i as $,n as w,j as y,z as A,t as N,C as B,w as W,v as M,B as F,F as z,s as S,S as I,q as R,E as j,x as V,y as G}from"./index-d101573f.js";import{S as q,N as K}from"./Navbar-fe6fe40f.js";import{C as Y}from"./ChatMe-ce333ade.js";/*!
 * Signature Pad v4.1.6 | https://github.com/szimek/signature_pad
 * (c) 2023 Szymon Nowak | Released under the MIT license
 */class x{constructor(t,s,e,o){if(isNaN(t)||isNaN(s))throw new Error(`Point is invalid: (${t}, ${s})`);this.x=+t,this.y=+s,this.pressure=e||0,this.time=o||Date.now()}distanceTo(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))}equals(t){return this.x===t.x&&this.y===t.y&&this.pressure===t.pressure&&this.time===t.time}velocityFrom(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):0}}class E{constructor(t,s,e,o,n,l){this.startPoint=t,this.control2=s,this.control1=e,this.endPoint=o,this.startWidth=n,this.endWidth=l}static fromPoints(t,s){const e=this.calculateControlPoints(t[0],t[1],t[2]).c2,o=this.calculateControlPoints(t[1],t[2],t[3]).c1;return new E(t[1],e,o,t[2],s.start,s.end)}static calculateControlPoints(t,s,e){const o=t.x-s.x,n=t.y-s.y,l=s.x-e.x,a=s.y-e.y,d={x:(t.x+s.x)/2,y:(t.y+s.y)/2},r={x:(s.x+e.x)/2,y:(s.y+e.y)/2},c=Math.sqrt(o*o+n*n),u=Math.sqrt(l*l+a*a),g=d.x-r.x,_=d.y-r.y,m=u/(c+u),b={x:r.x+g*m,y:r.y+_*m},P=s.x-b.x,C=s.y-b.y;return{c1:new x(d.x+P,d.y+C),c2:new x(r.x+P,r.y+C)}}length(){let s=0,e,o;for(let n=0;n<=10;n+=1){const l=n/10,a=this.point(l,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),d=this.point(l,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(n>0){const r=a-e,c=d-o;s+=Math.sqrt(r*r+c*c)}e=a,o=d}return s}point(t,s,e,o,n){return s*(1-t)*(1-t)*(1-t)+3*e*(1-t)*(1-t)*t+3*o*(1-t)*t*t+n*t*t*t}}class H{constructor(){try{this._et=new EventTarget}catch{this._et=document}}addEventListener(t,s,e){this._et.addEventListener(t,s,e)}dispatchEvent(t){return this._et.dispatchEvent(t)}removeEventListener(t,s,e){this._et.removeEventListener(t,s,e)}}function J(i,t=250){let s=0,e=null,o,n,l;const a=()=>{s=Date.now(),e=null,o=i.apply(n,l),e||(n=null,l=[])};return function(...r){const c=Date.now(),u=t-(c-s);return n=this,l=r,u<=0||u>t?(e&&(clearTimeout(e),e=null),s=c,o=i.apply(n,l),e||(n=null,l=[])):e||(e=window.setTimeout(a,u)),o}}class k extends H{constructor(t,s={}){super(),this.canvas=t,this._drawningStroke=!1,this._isEmpty=!0,this._lastPoints=[],this._data=[],this._lastVelocity=0,this._lastWidth=0,this._handleMouseDown=e=>{e.buttons===1&&(this._drawningStroke=!0,this._strokeBegin(e))},this._handleMouseMove=e=>{this._drawningStroke&&this._strokeMoveUpdate(e)},this._handleMouseUp=e=>{e.buttons===1&&this._drawningStroke&&(this._drawningStroke=!1,this._strokeEnd(e))},this._handleTouchStart=e=>{if(e.cancelable&&e.preventDefault(),e.targetTouches.length===1){const o=e.changedTouches[0];this._strokeBegin(o)}},this._handleTouchMove=e=>{e.cancelable&&e.preventDefault();const o=e.targetTouches[0];this._strokeMoveUpdate(o)},this._handleTouchEnd=e=>{if(e.target===this.canvas){e.cancelable&&e.preventDefault();const n=e.changedTouches[0];this._strokeEnd(n)}},this._handlePointerStart=e=>{this._drawningStroke=!0,e.preventDefault(),this._strokeBegin(e)},this._handlePointerMove=e=>{this._drawningStroke&&(e.preventDefault(),this._strokeMoveUpdate(e))},this._handlePointerEnd=e=>{this._drawningStroke&&(e.preventDefault(),this._drawningStroke=!1,this._strokeEnd(e))},this.velocityFilterWeight=s.velocityFilterWeight||.7,this.minWidth=s.minWidth||.5,this.maxWidth=s.maxWidth||2.5,this.throttle="throttle"in s?s.throttle:16,this.minDistance="minDistance"in s?s.minDistance:5,this.dotSize=s.dotSize||0,this.penColor=s.penColor||"black",this.backgroundColor=s.backgroundColor||"rgba(0,0,0,0)",this.compositeOperation=s.compositeOperation||"source-over",this._strokeMoveUpdate=this.throttle?J(k.prototype._strokeUpdate,this.throttle):k.prototype._strokeUpdate,this._ctx=t.getContext("2d"),this.clear(),this.on()}clear(){const{_ctx:t,canvas:s}=this;t.fillStyle=this.backgroundColor,t.clearRect(0,0,s.width,s.height),t.fillRect(0,0,s.width,s.height),this._data=[],this._reset(this._getPointGroupOptions()),this._isEmpty=!0}fromDataURL(t,s={}){return new Promise((e,o)=>{const n=new Image,l=s.ratio||window.devicePixelRatio||1,a=s.width||this.canvas.width/l,d=s.height||this.canvas.height/l,r=s.xOffset||0,c=s.yOffset||0;this._reset(this._getPointGroupOptions()),n.onload=()=>{this._ctx.drawImage(n,r,c,a,d),e()},n.onerror=u=>{o(u)},n.crossOrigin="anonymous",n.src=t,this._isEmpty=!1})}toDataURL(t="image/png",s){switch(t){case"image/svg+xml":return typeof s!="object"&&(s=void 0),`data:image/svg+xml;base64,${btoa(this.toSVG(s))}`;default:return typeof s!="number"&&(s=void 0),this.canvas.toDataURL(t,s)}}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",this.canvas.style.userSelect="none";const t=/Macintosh/.test(navigator.userAgent)&&"ontouchstart"in document;window.PointerEvent&&!t?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.style.userSelect="auto",this.canvas.removeEventListener("pointerdown",this._handlePointerStart),this.canvas.removeEventListener("pointermove",this._handlePointerMove),this.canvas.ownerDocument.removeEventListener("pointerup",this._handlePointerEnd),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),this.canvas.ownerDocument.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)}isEmpty(){return this._isEmpty}fromData(t,{clear:s=!0}={}){s&&this.clear(),this._fromData(t,this._drawCurve.bind(this),this._drawDot.bind(this)),this._data=this._data.concat(t)}toData(){return this._data}_getPointGroupOptions(t){return{penColor:t&&"penColor"in t?t.penColor:this.penColor,dotSize:t&&"dotSize"in t?t.dotSize:this.dotSize,minWidth:t&&"minWidth"in t?t.minWidth:this.minWidth,maxWidth:t&&"maxWidth"in t?t.maxWidth:this.maxWidth,velocityFilterWeight:t&&"velocityFilterWeight"in t?t.velocityFilterWeight:this.velocityFilterWeight,compositeOperation:t&&"compositeOperation"in t?t.compositeOperation:this.compositeOperation}}_strokeBegin(t){this.dispatchEvent(new CustomEvent("beginStroke",{detail:t}));const s=this._getPointGroupOptions(),e=Object.assign(Object.assign({},s),{points:[]});this._data.push(e),this._reset(s),this._strokeUpdate(t)}_strokeUpdate(t){if(this._data.length===0){this._strokeBegin(t);return}this.dispatchEvent(new CustomEvent("beforeUpdateStroke",{detail:t}));const s=t.clientX,e=t.clientY,o=t.pressure!==void 0?t.pressure:t.force!==void 0?t.force:0,n=this._createPoint(s,e,o),l=this._data[this._data.length-1],a=l.points,d=a.length>0&&a[a.length-1],r=d?n.distanceTo(d)<=this.minDistance:!1,c=this._getPointGroupOptions(l);if(!d||!(d&&r)){const u=this._addPoint(n,c);d?u&&this._drawCurve(u,c):this._drawDot(n,c),a.push({time:n.time,x:n.x,y:n.y,pressure:n.pressure})}this.dispatchEvent(new CustomEvent("afterUpdateStroke",{detail:t}))}_strokeEnd(t){this._strokeUpdate(t),this.dispatchEvent(new CustomEvent("endStroke",{detail:t}))}_handlePointerEvents(){this._drawningStroke=!1,this.canvas.addEventListener("pointerdown",this._handlePointerStart),this.canvas.addEventListener("pointermove",this._handlePointerMove),this.canvas.ownerDocument.addEventListener("pointerup",this._handlePointerEnd)}_handleMouseEvents(){this._drawningStroke=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),this.canvas.ownerDocument.addEventListener("mouseup",this._handleMouseUp)}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)}_reset(t){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(t.minWidth+t.maxWidth)/2,this._ctx.fillStyle=t.penColor,this._ctx.globalCompositeOperation=t.compositeOperation}_createPoint(t,s,e){const o=this.canvas.getBoundingClientRect();return new x(t-o.left,s-o.top,e,new Date().getTime())}_addPoint(t,s){const{_lastPoints:e}=this;if(e.push(t),e.length>2){e.length===3&&e.unshift(e[0]);const o=this._calculateCurveWidths(e[1],e[2],s),n=E.fromPoints(e,o);return e.shift(),n}return null}_calculateCurveWidths(t,s,e){const o=e.velocityFilterWeight*s.velocityFrom(t)+(1-e.velocityFilterWeight)*this._lastVelocity,n=this._strokeWidth(o,e),l={end:n,start:this._lastWidth};return this._lastVelocity=o,this._lastWidth=n,l}_strokeWidth(t,s){return Math.max(s.maxWidth/(t+1),s.minWidth)}_drawCurveSegment(t,s,e){const o=this._ctx;o.moveTo(t,s),o.arc(t,s,e,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve(t,s){const e=this._ctx,o=t.endWidth-t.startWidth,n=Math.ceil(t.length())*2;e.beginPath(),e.fillStyle=s.penColor;for(let l=0;l<n;l+=1){const a=l/n,d=a*a,r=d*a,c=1-a,u=c*c,g=u*c;let _=g*t.startPoint.x;_+=3*u*a*t.control1.x,_+=3*c*d*t.control2.x,_+=r*t.endPoint.x;let m=g*t.startPoint.y;m+=3*u*a*t.control1.y,m+=3*c*d*t.control2.y,m+=r*t.endPoint.y;const b=Math.min(t.startWidth+r*o,s.maxWidth);this._drawCurveSegment(_,m,b)}e.closePath(),e.fill()}_drawDot(t,s){const e=this._ctx,o=s.dotSize>0?s.dotSize:(s.minWidth+s.maxWidth)/2;e.beginPath(),this._drawCurveSegment(t.x,t.y,o),e.closePath(),e.fillStyle=s.penColor,e.fill()}_fromData(t,s,e){for(const o of t){const{points:n}=o,l=this._getPointGroupOptions(o);if(n.length>1)for(let a=0;a<n.length;a+=1){const d=n[a],r=new x(d.x,d.y,d.pressure,d.time);a===0&&this._reset(l);const c=this._addPoint(r,l);c&&s(c,l)}else this._reset(l),e(n[0],l)}}toSVG({includeBackgroundColor:t=!1}={}){const s=this._data,e=Math.max(window.devicePixelRatio||1,1),o=0,n=0,l=this.canvas.width/e,a=this.canvas.height/e,d=document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.setAttribute("xmlns","http://www.w3.org/2000/svg"),d.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),d.setAttribute("viewBox",`${o} ${n} ${l} ${a}`),d.setAttribute("width",l.toString()),d.setAttribute("height",a.toString()),t&&this.backgroundColor){const r=document.createElement("rect");r.setAttribute("width","100%"),r.setAttribute("height","100%"),r.setAttribute("fill",this.backgroundColor),d.appendChild(r)}return this._fromData(s,(r,{penColor:c})=>{const u=document.createElement("path");if(!isNaN(r.control1.x)&&!isNaN(r.control1.y)&&!isNaN(r.control2.x)&&!isNaN(r.control2.y)){const g=`M ${r.startPoint.x.toFixed(3)},${r.startPoint.y.toFixed(3)} C ${r.control1.x.toFixed(3)},${r.control1.y.toFixed(3)} ${r.control2.x.toFixed(3)},${r.control2.y.toFixed(3)} ${r.endPoint.x.toFixed(3)},${r.endPoint.y.toFixed(3)}`;u.setAttribute("d",g),u.setAttribute("stroke-width",(r.endWidth*2.25).toFixed(3)),u.setAttribute("stroke",c),u.setAttribute("fill","none"),u.setAttribute("stroke-linecap","round"),d.appendChild(u)}},(r,{penColor:c,dotSize:u,minWidth:g,maxWidth:_})=>{const m=document.createElement("circle"),b=u>0?u:(g+_)/2;m.setAttribute("r",b.toString()),m.setAttribute("cx",r.x.toString()),m.setAttribute("cy",r.y.toString()),m.setAttribute("fill",c),d.appendChild(m)}),d.outerHTML}}const X={name:"vueSignature",props:{sigOption:{type:Object,default:()=>({backgroundColor:"rgb(255,255,255)",penColor:"rgb(0, 0, 0)"})},w:{type:String,default:"100%"},h:{type:String,default:"100%"},clearOnResize:{type:Boolean,default:!1},waterMark:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},defaultUrl:{type:String,default:""}},data(){return{sig:()=>{},option:{backgroundColor:"rgb(255,255,255)",penColor:"rgb(0, 0, 0)"},uid:""}},watch:{disabled(i){var t=this;t.sig.off&&(i?t.sig.off():t.sig.on())}},created(){var i=this;this.uid="canvas"+i._uid;var t=Object.keys(i.sigOption);for(var s of t)i.option[s]=i.sigOption[s]},methods:{draw(){var i=this,t=document.getElementById(i.uid);i.sig=new k(t,i.option),i.attachEventListeners();function s(e){var o;i.isEmpty()||(o=i.save());var n=Math.max(window.devicePixelRatio||1,1),l=RegExp(/px/);e.width=l.test(i.w)?i.w.replace(/px/g,"")*n:e.offsetWidth*n,e.height=l.test(i.h)?i.h.replace(/px/g,"")*n:e.offsetHeight*n,e.getContext("2d").scale(n,n),i.clear(),!i.clearOnResize&&o!==void 0&&i.fromDataURL(o),Object.keys(i.waterMark).length&&i.addWaterMark(i.waterMark)}window.addEventListener("resize",s(t)),s(t),i.defaultUrl!==""&&i.fromDataURL(i.defaultUrl),i.disabled?i.sig.off():i.sig.on()},clear(){var i=this;i.sig.clear()},save(i){var t=this;return i?t.sig.toDataURL(i):t.sig.toDataURL()},fromDataURL(i){var t=this;t.sig.fromDataURL(i)},isEmpty(){var i=this;return i.sig.isEmpty()},undo(){var i=this,t=i.sig.toData();t&&(t.pop(),i.sig.fromData(t))},addWaterMark(i){var t=this;if(Object.prototype.toString.call(i)!="[object Object]")throw new Error("Expected Object, got "+typeof i+".");var s=document.getElementById(t.uid),e={text:i.text||"",x:i.x||20,y:i.y||20,sx:i.sx||40,sy:i.sy||40},o=s.getContext("2d");o.font=i.font||"20px sans-serif",o.fillStyle=i.fillStyle||"#333",o.strokeStyle=i.strokeStyle||"#333",i.style=="all"?(o.fillText(e.text,e.x,e.y),o.strokeText(e.text,e.sx,e.sy)):i.style=="stroke"?o.strokeText(e.text,e.sx,e.sy):o.fillText(e.text,e.x,e.y),t.sig._isEmpty=!1},attachEventListeners(){var i=this;i.sig.addEventListener("beginStroke",t=>i.$emit("beginStroke",t)),i.sig.addEventListener("endStroke",t=>i.$emit("endStroke",t)),i.sig.addEventListener("beforeUpdateStroke",t=>i.$emit("beforeUpdateStroke",t)),i.sig.addEventListener("afterUpdateStroke",t=>i.$emit("afterUpdateStroke",t))}},mounted(){var i=this;this.$nextTick().then(()=>{i.draw()})}},Q=["id","data-uid","disabled"];function Z(i,t,s,e,o,n){return f(),v("div",{style:U({width:s.w,height:s.h}),onTouchmove:t[0]||(t[0]=L(()=>{},["prevent"]))},[h("canvas",{id:o.uid,class:"canvas","data-uid":o.uid,disabled:s.disabled},null,8,Q)],36)}const O=D(X,[["render",Z]]);const p=i=>(V("data-v-12eb87d8"),i=i(),G(),i),tt={key:0,class:"preloader"},et={id:"wrapper"},st={id:"content-wrapper",class:"d-flex flex-column"},it={id:"content"},ot={id:"app"},nt={key:0,class:"h3 mb-0 text-gray-800 text-center mt-4"},at={key:1,class:"h3 mb-0 text-gray-800 text-center mt-3"},rt={key:2,class:"row mt-4"},lt=p(()=>h("div",{class:"col-sm-1"},null,-1)),ht={class:"col-sm-10"},dt={class:"row"},ct=p(()=>h("div",{class:"col-sm-1"},null,-1)),ut={class:"col-sm-5"},pt={class:"col-sm-5"},mt={class:"text-center"},gt=p(()=>h("i",{class:"bi bi-file-check"}," Simpan",-1)),_t=[gt],ft=p(()=>h("i",{class:"bi bi-x"}," Hapus",-1)),vt=[ft],bt=p(()=>h("i",{class:"bi bi-arrow-counterclockwise"}," Kembali",-1)),yt=[bt],wt=p(()=>h("i",{class:"bi bi-droplet-half"}," Tandai",-1)),xt=[wt],kt=p(()=>h("i",{class:"bi bi-journal-x"}," Hide",-1)),St=[kt],Et=p(()=>h("div",{class:"col-sm-1"},null,-1)),Pt=p(()=>h("div",{class:"col-sm-1"},null,-1)),Ct={class:"row mt-5"},Tt=p(()=>h("div",{class:"col-1"},null,-1)),Wt={class:"col-10"},Mt={class:"mb-3"},Dt=p(()=>h("label",{for:"petugas",class:"form-label"},"Petugas",-1)),Lt={class:"mb-3"},Ot=p(()=>h("label",{for:"supir",class:"form-label"},"Pelanggan",-1)),Ut=p(()=>h("div",{class:"col-1"},null,-1)),$t={class:"row"},At=p(()=>h("div",{class:"col-1"},null,-1)),Nt={class:"col-10"},Bt={class:"row"},Ft={class:"col-6"},zt=p(()=>h("div",{class:"col-6"},[h("button",{type:"submit",class:"btn blueButton float-end"}," Kirim ")],-1)),It=p(()=>h("div",{class:"col-1"},null,-1)),Rt={props:["id"],name:"App",components:{vueSignature:O},data(){return{option:{penColor:"rgb(0, 0, 0)",backgroundColor:"rgb(255,255,255)"},disabled:!1,form:{petugas:"",supir:""},signature:[],index:0,role:null,note:[],tumpukans:[],reload:!1}},methods:{submitNote(){this.reload=!0,S.post("https://10.11.10.243/backend/public/api/auth/notes",this.note,{headers:{Authorization:"Bearer "+sessionStorage.getItem("token")}}).then(i=>{this.submitTumpukans(i.data.data.id)}).catch(i=>{this.reload=!1,console.error(i)})},submitTumpukans(i){const t=[];this.tumpukans.forEach(s=>{const e={};for(const l in s.tumpukan)e[`tumpukan_${l}`]=s.tumpukan[l].join(",");const o=this.getTotalTumpukan(s),n={...e,barang:s.barang,sppg:s.sppg,id_note:0,total:o};t.push(n),console.log("test tumpukan: ",t)}),t.forEach(s=>{s.id_note=i}),console.log("id: ",i),console.log("id_note: ",t.id_note),console.log("tumpukans: ",t),S.post("https://10.11.10.243/backend/public/api/auth/tumpukan",t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+sessionStorage.getItem("token")}}).then(s=>{this.handleSubmit(i)}).catch(s=>{this.reload=!1,console.error(s)})},handleSubmit(i){let t=new FormData;t.append("petugas",this.form.petugas),t.append("petugas_signature",this.signature[0]),t.append("supir",this.form.supir),t.append("supir_signature",this.signature[1]),t.append("id_note",i),console.log(t),S.post("https://10.11.10.243/backend/public/api/auth/signatures",t,{headers:{Authorization:"Bearer "+sessionStorage.getItem("token")}}).then(s=>{console.log(s),this.reload=!1,this.showAlert()}),this.form.name=""},showAlert(){this.$swal("Data Berhasil di inputkan!!").then(()=>{localStorage.removeItem("note"),localStorage.removeItem("tumpukans"),this.$router.push("/user-note")})},confirmSave(){I.fire({title:"Konfirmasi",text:`Apakah Anda yakin ingin menyimpan tandatangan ${this.index===0?"Petugas":"Pelanggan"} ?`,icon:"warning",showCancelButton:!0,confirmButtonText:"Ya",cancelButtonText:"Tidak"}).then(i=>{i.isConfirmed&&this.save()})},save(){this.signature[this.index]=this.$refs.signature.save(),console.log("index awal :",this.index),console.log("tandatangan :",this.signature[this.index],"index akhir :",this.index),this.index++,this.clear()},clear(){this.$refs.signature.clear()},undo(){this.$refs.signature.undo()},addWatermark(){this.$refs.signature.addWaterMark({text:"PT. Garam(Persero)",font:"20px Arial",style:"all",fillStyle:"red",strokeStyle:"blue",x:100,y:100,sx:100,sy:100})},toggleDisabled(){this.disabled=!this.disabled},getTotalTumpukan(i){let t=0;for(const s in i.tumpukan)for(const e of i.tumpukan[s])t+=e;return t}},created(){const i=sessionStorage.getItem("token");if(i)try{const[t,s]=i.split("."),e=JSON.parse(atob(t)),o=atob(s),n=JSON.parse(atob(i.split(".")[1])),l=n.exp,a=new Date(l*1e3);console.log("Waktu Kedaluwarsa (UTC):",a.toUTCString()),new Date>a?(console.log("Keluar"),sessionStorage.removeItem("token"),this.$router.push("/")):console.log("Aman");const d=n.role;this.form.petugas=n.name,d!=="user"?this.$router.push("/unauthorized"):(!e||!o)&&this.$router.push("/");const r=localStorage.getItem("note"),c=localStorage.getItem("tumpukans");r&&(this.note=JSON.parse(r)),c&&(this.tumpukans=JSON.parse(c))}catch(t){console.error("Error decoding token:",t),this.$router.push("/")}else this.$router.push("/")}},jt=Object.assign(Rt,{setup(i){const t=T(!1),s=T(""),e=()=>{t.value=!t.value,s.value=t.value?"toggle-sidebar":""};return(o,n)=>{const l=$("router-link");return f(),v(z,null,[o.reload?(f(),v("div",tt)):w("",!0),h("div",et,[y(q,{class:A(s.value)},null,8,["class"]),h("div",st,[h("div",it,[y(K,{onToggleSidebar:e}),y(Y),h("div",ot,[this.index<=1&&this.index>=0?(f(),v("h1",nt,N(this.index===0?"Tandatangan Petugas":"Tandatangan Pelanggan"),1)):w("",!0),this.index>1?(f(),v("h1",at," Nama Petugas dan Pelanggan ")):w("",!0),this.index<=1&&this.index>=0?(f(),v("div",rt,[lt,h("div",ht,[h("div",dt,[ct,h("div",ut,[y(B(O),{ref:"signature",sigOption:o.option,h:"200px",w:"300px",disabled:o.disabled,defaultUrl:o.dataUrl,class:"mt-3 m-auto custom"},null,8,["sigOption","disabled","defaultUrl"])]),h("div",pt,[h("div",mt,[h("button",{class:"btn blueButton mb-2 me-2 w-40",type:"button",onClick:n[0]||(n[0]=(...a)=>o.confirmSave&&o.confirmSave(...a))},_t),h("button",{class:"btn btn-danger mb-2 me-2 w-40",type:"button",onClick:n[1]||(n[1]=(...a)=>o.clear&&o.clear(...a))},vt),h("button",{class:"btn btn-warning mb-2 me-2 w-40",type:"button",onClick:n[2]||(n[2]=(...a)=>o.undo&&o.undo(...a))},yt),h("button",{class:"btn btn-success mb-2 me-2 w-40",type:"button",onClick:n[3]||(n[3]=(...a)=>o.addWatermark&&o.addWatermark(...a))},xt),h("button",{class:"btn btn-dark mb-2 me-2 w-40",type:"button",onClick:n[4]||(n[4]=(...a)=>o.toggleDisabled&&o.toggleDisabled(...a))},St)])]),Et])]),Pt])):w("",!0),this.index>1?(f(),v("form",{key:3,onSubmit:n[7]||(n[7]=L((...a)=>o.submitNote&&o.submitNote(...a),["prevent"])),enctype:"multipart/form-data"},[h("div",Ct,[Tt,h("div",Wt,[h("div",Mt,[Dt,W(h("input",{type:"text",class:"form-control disable",id:"petugas",placeholder:"input petugas","onUpdate:modelValue":n[5]||(n[5]=a=>o.form.petugas=a),disabled:!0},null,512),[[M,o.form.petugas]])]),h("div",Lt,[Ot,W(h("input",{type:"text",class:"form-control",id:"supir",placeholder:"nama pelanggan","onUpdate:modelValue":n[6]||(n[6]=a=>o.form.supir=a)},null,512),[[M,o.form.supir]])])]),Ut]),h("div",$t,[At,h("div",Nt,[h("div",Bt,[h("div",Ft,[y(l,{to:"/user-input-tumpukan",class:"btn btn-danger"},{default:F(()=>[R("Kembali")]),_:1})]),zt])]),It])],32)):w("",!0)])]),y(j)])])],64)}}}),Kt=D(jt,[["__scopeId","data-v-12eb87d8"]]);export{Kt as default};
