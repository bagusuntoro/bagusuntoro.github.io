import{_,i as f,o as d,c as l,a as e,j as g,B as u,z as b,H as v,x,y as w,I as y,S as i,s as T,l as S,n as m,t as B,q as h}from"./index-d101573f.js";const C={data(){return{sidebarToggled:!1}},methods:{toggleSidebar(){this.sidebarToggled=!this.sidebarToggled}},created(){}},c=a=>(x("data-v-c16453f4"),a=a(),w(),a),M=v('<a class="sidebar-brand d-flex align-items-center justify-content-center" href="#" data-v-c16453f4><div class="sidebar-brand-icon mt-2" data-v-c16453f4><img src="'+y+'" alt="logo" width="50" data-v-c16453f4></div><div class="sidebar-brand-text ms-3" data-v-c16453f4><span style="color:#061387;" data-v-c16453f4>Tally</span><span style="color:#fac800;" data-v-c16453f4>Sheet</span></div></a><div class="sidebar-heading mt-5 text-primary" data-v-c16453f4>Menu</div>',2),N={class:"nav-item"},$=c(()=>e("i",{class:"bi bi-speedometer2 text-primary"},null,-1)),I=c(()=>e("span",null,"Dashboard",-1)),L={class:"nav-item"},V=c(()=>e("i",{class:"bi bi-journal-text text-primary"},null,-1)),j=c(()=>e("span",null,"Tally Sheet",-1));function A(a,t,p,k,s,o){const n=f("router-link");return d(),l("ul",{class:b(["navbar-nav bg-gradient-light sidebar sidebar-dark accordion",{toggled:s.sidebarToggled}]),id:"accordionSidebar"},[M,e("li",N,[g(n,{class:"nav-link text-primary",to:"/user-dashboard","active-class":"font-weight-bold active-link"},{default:u(()=>[$,I]),_:1})]),e("li",L,[g(n,{class:"nav-link text-primary",to:"/user-note","active-class":"font-weight-bold text-primary active-link"},{default:u(()=>[V,j]),_:1})])],2)}const Y=_(C,[["render",A],["__scopeId","data-v-c16453f4"]]);const D={props:{sidebarToggled:Boolean},data(){return{name:"",gambar:"",user_id:"",darkMode:!1}},methods:{changeTheme(){this.darkMode=!this.darkMode;const a=JSON.stringify(this.darkMode);localStorage.setItem("darkMode",a)},sidebarToggled(){this.$emit("toggle-sidebar",!this.sidebarToggled)},konfirmasi(){i.fire({title:"Apakah Anda yakin ingin logout?",text:"Anda akan keluar dari akun ini.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#061387",confirmButtonText:"Logout",cancelButtonText:"Batal"}).then(a=>{a.isConfirmed&&this.logout()})},logout(){const a=sessionStorage.getItem("token");if(!a){i.fire({title:"Logout gagal",text:"Token tidak ditemukan.",icon:"error",confirmButtonColor:"#d33"});return}T.post("https://10.11.10.243/backend/public/api/auth/logout",null,{headers:{Authorization:"Bearer "+a}}).then(t=>{i.fire({title:"Logout berhasil!",icon:"success",timer:1500,timerProgressBar:!0,showConfirmButton:!1}),sessionStorage.removeItem("token"),this.$router.push("/")}).catch(t=>{console.error(t),i.fire({title:"Logout gagal",text:"Terjadi kesalahan saat melakukan logout.",icon:"error",confirmButtonColor:"#d33"})})}},created(){const a=sessionStorage.getItem("token");if(a)try{const t=JSON.parse(atob(a.split(".")[1]));this.name=t.name,this.user_id=t.id,this.gambar=t.gambar}catch(t){console.error("Error decoding token:",t),this.$router.push("/")}else this.$router.push("/")}},z=e("i",{class:"fa fa-bars"},null,-1),P=[z],E={class:"navbar-nav ml-auto"},J={class:"nav-item mt-3"},O={class:"btn btn-dark"},q=e("div",{class:"topbar-divider d-none d-sm-block"},null,-1),H={class:"nav-item dropdown no-arrow"},U={class:"nav-link dropdown-toggle",href:"#",id:"userDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},F={class:"mr-2 d-none d-lg-inline text-white small"},G=["src"],K={class:"dropdown-menu dropdown-menu-right shadow animated--grow-in","aria-labelledby":"userDropdown"},Q=e("i",{class:"fas fa-solid fa-user fa-sm fa-fw mr-2 text-gray-400"},null,-1),R=e("i",{class:"fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"},null,-1);function W(a,t,p,k,s,o){const n=f("router-link");return d(),l("nav",{class:b(["customNav navbar navbar-expand navbar-light topbar static-top shadow",s.darkMode?"bg-black":"bgCustom"])},[e("form",{class:"form-inline",onSubmit:t[1]||(t[1]=S(()=>{},["prevent"]))},[e("button",{id:"sidebarToggleTop",class:"btn btn-link d-md-none rounded-circle mr-3 text-light",onClick:t[0]||(t[0]=(...r)=>o.sidebarToggled&&o.sidebarToggled(...r))},P)],32),e("ul",E,[e("li",J,[e("button",O,[s.darkMode?m("",!0):(d(),l("i",{key:0,class:"bi fs-5 bi-sun-fill text-warning",onClick:t[2]||(t[2]=(...r)=>o.changeTheme&&o.changeTheme(...r))})),s.darkMode?(d(),l("i",{key:1,class:"bi fs-5 bi-moon-stars-fill",onClick:t[3]||(t[3]=(...r)=>o.changeTheme&&o.changeTheme(...r))})):m("",!0)])]),q,e("li",H,[e("a",U,[e("span",F,B(this.name),1),e("img",{src:"https://10.11.10.243/backend/public/storage/profile/"+s.gambar,alt:" gambarprofile",class:"img-profile rounded-circle"},null,8,G)]),e("div",K,[g(n,{class:"dropdown-item",to:"/user-profile","data-toggle":"modal","data-target":"#logoutModal"},{default:u(()=>[Q,h(" Profil ")]),_:1}),e("a",{class:"dropdown-item",href:"#","data-toggle":"modal","data-target":"#logoutModal",onClick:t[4]||(t[4]=r=>o.konfirmasi())},[R,h(" Logout ")])])])])],2)}const Z=_(D,[["render",W]]);export{Z as N,Y as S};
